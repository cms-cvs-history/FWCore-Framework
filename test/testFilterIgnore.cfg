
process PROD  = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"

  untracked  PSet options = {
    untracked bool wantSummary=true 
  }

  source = EmptySource { untracked int32 maxEvents = 99 }

  module m1 = IntProducer { int32 ivalue = 1 }
  module m2 = IntProducer { int32 ivalue = 2 }
  module m3 = IntProducer { int32 ivalue = 3 }
  module m4 = IntProducer { int32 ivalue = 4 }

  module f1 = TestFilterModule {
    untracked bool onlyOne = false
    untracked int32 acceptValue = 40
  }

  module f2 = TestFilterModule {
    untracked bool onlyOne = false
    untracked int32 acceptValue = 30
  }

  module f3 = TestFilterModule {
    untracked bool onlyOne = false
    untracked int32 acceptValue = 20
  }

  module f4 = TestFilterModule {
    untracked bool onlyOne = true
    untracked int32 acceptValue = 2
  }

  module outp1 = SewerModule {
    string name = "p1"
    int32 shouldPass = 40
    untracked PSet SelectEvents = { vstring SelectEvents = { "p1" } }
  }

  module outp2 = SewerModule {
    string name = "p2"
    int32 shouldPass = 99
    untracked PSet SelectEvents = { vstring SelectEvents = { "p2" } }
  }

  module outp3 = SewerModule {
    string name = "p3"
    int32 shouldPass = 10
    untracked PSet SelectEvents = { vstring SelectEvents = { "p3" } }
  }

  module outp4 = SewerModule {
    string name = "p4"
    int32 shouldPass = 5
    untracked PSet SelectEvents = { vstring SelectEvents = { "p4" } }
  }

  module outp5 = SewerModule {
    string name = "p5"
    int32 shouldPass = 10
    untracked PSet SelectEvents = { vstring SelectEvents = { "p5" } }
  }

  path p1 = { f1, m1 }
  path p2 = { -f1, m1 }
  path p3 = { f2, m2, !f3, m3, -f4 }
  path p4 = { f2, m2, !f3, -m3, f4 }
  path p5 = { m4 & f2 , m2, (!f3, m3, -f4) & m4 }

  endpath e = { outp1, outp2, outp3, outp4, outp5 }
}
